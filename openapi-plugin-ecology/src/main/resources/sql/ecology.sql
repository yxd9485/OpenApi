CREATE TABLE `open_ecology_workflow` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `COMPANY_ID` varchar(50) DEFAULT NULL COMMENT '公司ID',
  `REQUEST_ID` varchar(50) DEFAULT NULL COMMENT '请求ID',
  `REQUEST_NAME` varchar(128) DEFAULT NULL COMMENT '请求标题',
  `REQUEST_LEVEL` varchar(10) DEFAULT NULL COMMENT '请求重要级别',
  `CREATOR_ID` varchar(50) DEFAULT NULL COMMENT '创建者ID',
  `CREATOR_NAME` varchar(50) DEFAULT NULL COMMENT '创建者名称',
  `THIRD_EMPLOYEE_ID` varchar(50) DEFAULT NULL COMMENT '三方员工ID',
  `EMPLOYEE_ID` varchar(50) DEFAULT NULL COMMENT '分贝员工ID',
  `CURRENT_NODE_ID` varchar(10) DEFAULT NULL COMMENT '当前节点Id',
  `CURRENT_NODE_NAME` varchar(50) DEFAULT NULL COMMENT '当前节点名称',
  `STATUS` varchar(10) DEFAULT NULL COMMENT '流程状态',
  `AGREED` int(2) DEFAULT 0 COMMENT '0:初始状态;1:审批通过;2:审批未通过',
  `WORKFLOW_ID` varchar(10) DEFAULT NULL COMMENT '工作流ID',
  `WORKFLOW_NAME` varchar(50) DEFAULT NULL COMMENT '工作流标题',
  `WORKFLOW_TYPE_ID` varchar(10) DEFAULT NULL COMMENT '工作流类型ID',
  `WORKFLOW_TYPE_NAME` varchar(50) DEFAULT NULL COMMENT '工作流类型名称',
  `START_DATE` varchar(20) DEFAULT NULL COMMENT '开始日期',
  `START_TIME` varchar(20) DEFAULT NULL COMMENT '开始时间',
  `END_DATE` varchar(20) DEFAULT NULL COMMENT '结束日期',
  `END_TIME` varchar(20) DEFAULT NULL COMMENT '结束时间',
  `FORM_DATA` text DEFAULT NULL COMMENT '表单数据',
  `DETAIL_FORM_1` text DEFAULT NULL COMMENT '表单详情数据1',
  `DETAIL_FORM_2` text DEFAULT NULL COMMENT '表单详情数据2',
  `DETAIL_FORM_3` text DEFAULT NULL COMMENT '表单详情数据3',
  `DETAIL_FORM_4` text DEFAULT NULL COMMENT '表单详情数据4',
  `DETAIL_FORM_5` text DEFAULT NULL COMMENT '表单详情数据5',
  `PROCESS_DATA` text DEFAULT NULL COMMENT '审批数据',
  `CREATE_DATE` date DEFAULT NULL COMMENT '创建日期',
  `STATE` int(2) DEFAULT 0 COMMENT '流程状态 0:初始状态;1:已完成;2:已关闭',
  `EXT_INFO` text DEFAULT NULL COMMENT '扩展信息',
  `CREATE_TIME` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `UPDATE_TIME` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`ID`),
  UNIQUE KEY `idx_ecology_workflow_companyId_requestId` (`COMPANY_ID`,`REQUEST_ID`) USING HASH,
  KEY `idx_ecology_workflow_companyId` (`COMPANY_ID`) USING HASH,
  KEY `idx_ecology_workflow_creatorId` (`CREATOR_ID`) USING HASH,
  KEY `idx_ecology_workflow_thirdEmployeeId` (`THIRD_EMPLOYEE_ID`) USING HASH,
  KEY `idx_ecology_workflow_employeeId` (`EMPLOYEE_ID`) USING HASH,
  KEY `idx_ecology_workflow_requestId` (`REQUEST_ID`) USING HASH
) ENGINE=InnoDB AUTO_INCREMENT=1000 DEFAULT CHARSET=utf8mb4 COMMENT='泛微工作流表';

CREATE TABLE `open_ecology_workflow_config` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `COMPANY_ID` varchar(50) DEFAULT NULL COMMENT '公司ID',
  `COMPANY_NAME` varchar(200) DEFAULT NULL COMMENT '公司名称',
  `WS_URL` varchar(512) DEFAULT NULL COMMENT 'webservice地址',
  `WS_IP` varchar(512) DEFAULT NULL COMMENT 'webservice限制的ip地址',
  `TRIP_FORM_NAME` varchar(128) DEFAULT NULL COMMENT '行程数据表单列名称',
  `WORK_FLOW_LISTENER` varchar(256) DEFAULT NULL COMMENT '工作流监听',
  `TRIP_FORM_NAME` varchar(128) DEFAULT NULL COMMENT '行程数据表单列名称',
  `CREATE_TIME` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `UPDATE_TIME` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`ID`),
  KEY `idx_ecology_workflow_config_companyId` (`COMPANY_ID`) USING HASH
) ENGINE=InnoDB AUTO_INCREMENT=1000 DEFAULT CHARSET=utf8mb4 COMMENT='泛微工作流表配置';

